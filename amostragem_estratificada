
#Análise de Cluster (Análise de Agrupamentos)
#Descrição: Utiliza algoritmos de clustering (como K-means) para agrupar indivíduos com base em características semelhantes.
#Vantagens: Identifica grupos naturais na população.
#Desvantagens: Requer software estatístico e pode ser complexo.

#Carregamento dos dados
data("dados")
df=scale(dados)
head(df, n=3)

# Número ótimo de clusters
library(factoextra)
fviz_nbclust(df, kmeans, method = "wss")+
  geom_vline(xintercept = 4, linetype = 2)

# Clusterização k-means
set.seed(123)
km.res=kmeans(df, 4, nstart=25)
print(km.res)

aggregate(dados, by=list(cluster=km.res$cluster), mean)

mtcars2=cbind(dados, cluster=km.res$cluster)
head(dados)

km.res$centers

# Vizualizando os clusters

library(ggplot2)
library(factoextra)

fviz_cluster(km.res, data=dados,
             palette = c("#2E9FDF", "#00AFBB", "#E7B800", "#FC4E07"),
             ellipse.type="euclid",
             star.plot=TRUE,
             repel=TRUE,
             ggtheme=theme_minimal()
             )


# 2. Análise de Componentes Principais (PCA)
Descrição: Reduz a dimensionalidade dos dados, identificando as principais variáveis que explicam a maior parte da variância.

Vantagens: Útil quando há muitas variáveis correlacionadas.

Desvantagens: Pode ser difícil interpretar os componentes principais.

# 3. Análise Discriminante
Descrição: Classifica indivíduos em grupos pré-definidos com base em variáveis preditoras.

Vantagens: Útil quando os estratos já são conhecidos.

Desvantagens: Requer conhecimento prévio dos estratos.

# 4. Árvores de Decisão
Descrição: Usa algoritmos de árvore de decisão para dividir a população com base em regras de decisão.

Vantagens: Fácil de interpretar e implementar.

Desvantagens: Pode superajustar os dados.

# 5. Análise de Correspondência Múltipla (MCA)
Descrição: Usada para dados categóricos, identifica padrões e agrupamentos.

Vantagens: Adequada para variáveis categóricas.

Desvantagens: Menos comum e pode ser complexa.

# 6. Métodos de Otimização
Descrição: Usa algoritmos de otimização para maximizar a homogeneidade dentro dos estratos e a heterogeneidade entre eles.

Vantagens: Pode ser muito eficaz.

Desvantagens: Requer conhecimento avançado de otimização.

## Passos para Estabelecer Estratos:
Defina os Objetivos: Determine quais características são importantes para a estratificação.

Coleta de Dados: Colete dados sobre essas características na população.

Análise Exploratória: Use técnicas exploratórias para identificar padrões e agrupamentos.

Aplicação de Métodos Estatísticos: Aplique um dos métodos acima para definir os estratos.

Validação: Verifique se os estratos são homogêneos internamente e heterogêneos entre si.
